{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/\\u0418\\u043B\\u044C\\u044F/Desktop/gh-pages-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/\\u0418\\u043B\\u044C\\u044F/Desktop/gh-pages-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import getEndpoints from'../server/db';var endpoints=getEndpoints();var getJson=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(endpoint){var path,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:path=process.env.NODE_ENV==='development'?\"http://localhost:3001/api/\".concat(endpoint):\"https://raw.githubusercontent.com/robzarel/gh-pages-demo/gh-pages/static/db/\".concat(endpoint,\".json\");_context.next=3;return fetch(path);case 3:response=_context.sent;_context.next=6;return response.json();case 6:return _context.abrupt(\"return\",_context.sent);case 7:case\"end\":return _context.stop();}},_callee);}));return function getJson(_x){return _ref.apply(this,arguments);};}();var api={get:{data:function data(){return getJson('data');}}};export default api;","map":{"version":3,"names":["getEndpoints","endpoints","getJson","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","endpoint","path","response","wrap","_callee$","_context","prev","next","process","env","NODE_ENV","concat","fetch","sent","json","abrupt","stop","_x","apply","arguments","api","get","data"],"sources":["C:/Users/Илья/Desktop/gh-pages-demo/src/api/index.ts"],"sourcesContent":["import getEndpoints from '../server/db';\r\n\r\nconst endpoints = getEndpoints();\r\n\r\ntype ENDPOINTS = keyof typeof endpoints;\r\ntype RESPONSE_DATA = {\r\n  greeting: string\r\n};\r\n\r\nconst getJson = async <T>(endpoint: ENDPOINTS): Promise<T> => {\r\n  const path =\r\n    process.env.NODE_ENV === 'development'\r\n      ? `http://localhost:3001/api/${endpoint}`\r\n      : `https://raw.githubusercontent.com/robzarel/gh-pages-demo/gh-pages/static/db/${endpoint}.json`;\r\n\r\n  const response = await fetch(path);\r\n\r\n  return await response.json();\r\n};\r\n\r\ntype API = {\r\n  get: {\r\n    data: () => Promise<RESPONSE_DATA>\r\n  }\r\n};\r\nconst api: API = {\r\n  get: {\r\n    data: () => getJson<RESPONSE_DATA>('data')\r\n  }\r\n}\r\nexport type { RESPONSE_DATA, ENDPOINTS }\r\nexport default api;\r\n"],"mappings":"0SAAA,MAAO,CAAAA,YAAY,KAAM,cAAc,CAEvC,GAAM,CAAAC,SAAS,CAAGD,YAAY,EAAE,CAOhC,GAAM,CAAAE,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAUC,QAAmB,MAAAC,IAAA,CAAAC,QAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACrCN,IAAI,CACRO,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,8BAAAC,MAAA,CACLX,QAAQ,iFAAAW,MAAA,CAC0CX,QAAQ,SAAO,CAAAK,QAAA,CAAAE,IAAA,SAE7E,CAAAK,KAAK,CAACX,IAAI,CAAC,QAA5BC,QAAQ,CAAAG,QAAA,CAAAQ,IAAA,CAAAR,QAAA,CAAAE,IAAA,SAED,CAAAL,QAAQ,CAACY,IAAI,EAAE,eAAAT,QAAA,CAAAU,MAAA,UAAAV,QAAA,CAAAQ,IAAA,0BAAAR,QAAA,CAAAW,IAAA,MAAAjB,OAAA,GAC7B,kBATK,CAAAL,OAAOA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OASZ,CAOD,GAAM,CAAAC,GAAQ,CAAG,CACfC,GAAG,CAAE,CACHC,IAAI,CAAE,SAAAA,KAAA,QAAM,CAAA5B,OAAO,CAAgB,MAAM,CAAC,EAC5C,CACF,CAAC,CAED,cAAe,CAAA0B,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}