{"ast":null,"code":"import getEndpoints from '../server/db';\nconst endpoints = getEndpoints();\nconst getJson = async endpoint => {\n  const path = process.env.NODE_ENV === 'development' ? `http://localhost:3001/api/${endpoint}` : `https://raw.githubusercontent.com/robzarel/gh-pages-demo/gh-pages/static/db/${endpoint}.json`;\n  const response = await fetch(path);\n  return await response.json();\n};\nconst api = {\n  get: {\n    data: () => getJson('data')\n  }\n};\nexport default api;","map":{"version":3,"names":["getEndpoints","endpoints","getJson","endpoint","path","process","env","NODE_ENV","response","fetch","json","api","get","data"],"sources":["C:/Users/Илья/Desktop/gh-pages-demo/src/api/index.ts"],"sourcesContent":["import getEndpoints from '../server/db';\r\n\r\nconst endpoints = getEndpoints();\r\n\r\ntype ENDPOINTS = keyof typeof endpoints;\r\ntype RESPONSE_DATA = {\r\n  greeting: string\r\n};\r\n\r\nconst getJson = async <T>(endpoint: ENDPOINTS): Promise<T> => {\r\n  const path =\r\n    process.env.NODE_ENV === 'development'\r\n      ? `http://localhost:3001/api/${endpoint}`\r\n      : `https://raw.githubusercontent.com/robzarel/gh-pages-demo/gh-pages/static/db/${endpoint}.json`;\r\n\r\n  const response = await fetch(path);\r\n\r\n  return await response.json();\r\n};\r\n\r\ntype API = {\r\n  get: {\r\n    data: () => Promise<RESPONSE_DATA>\r\n  }\r\n};\r\nconst api: API = {\r\n  get: {\r\n    data: () => getJson<RESPONSE_DATA>('data')\r\n  }\r\n}\r\nexport type { RESPONSE_DATA, ENDPOINTS }\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,cAAc;AAEvC,MAAMC,SAAS,GAAGD,YAAY,EAAE;AAOhC,MAAME,OAAO,GAAG,MAAUC,QAAmB,IAAiB;EAC5D,MAAMC,IAAI,GACRC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GACjC,6BAA4BJ,QAAS,EAAC,GACtC,+EAA8EA,QAAS,OAAM;EAEpG,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACL,IAAI,CAAC;EAElC,OAAO,MAAMI,QAAQ,CAACE,IAAI,EAAE;AAC9B,CAAC;AAOD,MAAMC,GAAQ,GAAG;EACfC,GAAG,EAAE;IACHC,IAAI,EAAEA,CAAA,KAAMX,OAAO,CAAgB,MAAM;EAC3C;AACF,CAAC;AAED,eAAeS,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}